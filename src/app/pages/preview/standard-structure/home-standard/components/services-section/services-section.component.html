<app-section-hover-wrapper
  [sectionKey]="'services'"
  [sectionName]="'Services Section'"
  [editable]="true"
  [currentPlan]="planType"
  [sectionPath]="'pages.home.services'"
  (sectionSelected)="handleSectionSelection()"
>
  <section
    id="services"
    class="services-section"
    *ngIf="supportsBusinessType()"
  >
    <div class="section-container">
      <div class="section-header">
        <h2 class="section-title">{{ getSectionTitle() }}</h2>
        <div class="title-underline"></div>
        <p *ngIf="getSectionSubtitle()" class="section-subtitle">
          {{ getSectionSubtitle() }}
        </p>
      </div>

      <!-- Services Grid -->
      <div
        class="services-grid"
        [ngClass]="{
          'services-grid--mobile': isMobileLayout,
          'premium-grid': isPremium()
        }"
      >
        <div
          *ngFor="let service of getServices(); let i = index"
          class="service-card"
          [ngClass]="{
            'service-card--premium': isPremium(),
            'service-card--with-image': hasImage(service),
            'service-card--featured': isFeatured(service)
          }"
          [ngStyle]="getAnimationDelay(i)"
        >
          <!-- Service Image (Premium Only) -->
          <div class="service-image" *ngIf="hasImage(service)">
            <img [src]="service.image" [alt]="service.title" />
          </div>

          <div class="service-content">
            <!-- Service Icon -->
            <div class="service-icon" *ngIf="service.icon">
              <img [src]="service.icon" [alt]="service.title + ' icon'" />
            </div>

            <!-- Service Title -->
            <h3 class="service-title">{{ service.title }}</h3>

            <!-- Service Description -->
            <p class="service-description">{{ service.description }}</p>

            <!-- Service Details (Price & Duration) -->
            <div
              class="service-details"
              *ngIf="service.price || service.duration"
            >
              <div class="service-price" *ngIf="service.price">
                <span class="price-label">Price:</span>
                <span class="price-value">{{ service.price }}</span>
              </div>

              <div
                class="service-duration"
                *ngIf="service.duration && isPremium()"
              >
                <span class="duration-label">Duration:</span>
                <span class="duration-value">{{ service.duration }}</span>
              </div>
            </div>

            <!-- Booking Button (Premium Only for Salon) -->
            <a
              *ngIf="
                isPremium() && businessType === 'salon' && service.bookingUrl
              "
              [href]="service.bookingUrl"
              class="book-now-btn"
              target="_blank"
            >
              Book Now
            </a>
          </div>
        </div>
      </div>

      <!-- Premium call-to-action (standard plan users) -->
      <div class="services-cta" *ngIf="planType === 'standard'">
        <p>
          Want to showcase more services with booking options and custom images?
        </p>
        <button class="upgrade-button">Upgrade to Premium</button>
      </div>
    </div>
  </section>
</app-section-hover-wrapper>
