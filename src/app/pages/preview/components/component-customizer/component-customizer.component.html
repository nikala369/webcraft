<div class="customizer-modal">
  <h2>Customize {{ componentData().id }}</h2>

  <!-- Render fields dynamically based on config -->
  <ng-container *ngFor="let field of config()">
    <div class="form-group">
      <label [for]="field.key">{{ field.label }}:</label>
      <ng-container [ngSwitch]="field.type">
        <!-- Text Field -->
        <input *ngSwitchCase="'text'" [id]="field.key" type="text"
               [value]="(componentData())[field.key]"
               (input)="updateText($event)" />

        <!-- Color Field -->
        <input *ngSwitchCase="'color'" [id]="field.key" type="color"
               [value]="(componentData())[field.key]"
               (input)="updateColor($event)" />

        <!-- File Field -->
        <input *ngSwitchCase="'file'"
               [id]="field.key"
               type="file"
               (change)="onFileChange($event)" />

        <!-- List Field -->
        <div *ngSwitchCase="'list'">
          <div *ngFor="let item of (componentData())[field.key]; let i = index">
            <label [for]="field.key + i">{{ field.label }} {{ i + 1 }}:</label>
            <input [id]="field.key + i" type="text"
                   [value]="item"
                   (input)="updateMenuItem(i, $event)" />
          </div>
        </div>
      </ng-container>
    </div>
  </ng-container>

  <div class="modal-actions">
    <button class="apply-btn" (click)="applyChanges()" [disabled]="!isValid()">
      {{ _component()?.applyLabel || 'Apply Changes' }}
    </button>
    <button class="cancel-btn" (click)="close.emit()">Cancel</button>
  </div>
</div>
