<div class="business-type-selector" [class.compact-mode]="compactMode">
  <!-- Regular mode (card selection) -->
  <ng-container *ngIf="!compactMode">
    <h3 class="selector-title">Select Your Website Type</h3>
    <p class="selector-subtitle">
      Choose the type that best represents your needs to get optimized content
      and sections.
    </p>

    <div class="business-types-grid">
      <div
        *ngFor="let type of businessTypes"
        class="business-type-card"
        [class.selected]="isSelected(type.id)"
        (click)="selectBusinessType(type.id)"
        [style.border-color]="isSelected(type.id) ? accentColor : ''"
      >
        <div class="business-type-icon">
          <!-- Restaurant icon -->
          <svg
            *ngIf="type.id === 'restaurant'"
            class="type-icon"
            width="24"
            height="24"
            viewBox="0 0 40 40"
            fill="none"
          >
            <path
              d="M12 10C12 7.79086 13.7909 6 16 6H24C26.2091 6 28 7.79086 28 10V24C28 26.2091 26.2091 28 24 28H16C13.7909 28 12 26.2091 12 24V10Z"
              stroke="currentColor"
              stroke-width="2"
            />
            <path
              d="M10 34H30"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
            <path d="M16 28V34" stroke="currentColor" stroke-width="2" />
            <path d="M24 28V34" stroke="currentColor" stroke-width="2" />
            <path
              d="M16 16H24"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
            <path
              d="M16 20H24"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
            <path
              d="M20 12V24"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
          </svg>

          <!-- Salon icon -->
          <svg
            *ngIf="type.id === 'salon'"
            class="type-icon"
            width="24"
            height="24"
            viewBox="0 0 40 40"
            fill="none"
          >
            <path
              d="M20 6V16"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
            <path
              d="M16 12L24 12"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
            <path
              d="M11 24C14.3137 24 17 21.3137 17 18C17 14.6863 14.3137 12 11 12C7.68629 12 5 14.6863 5 18C5 21.3137 7.68629 24 11 24Z"
              stroke="currentColor"
              stroke-width="2"
            />
            <path
              d="M29 24C32.3137 24 35 21.3137 35 18C35 14.6863 32.3137 12 29 12C25.6863 12 23 14.6863 23 18C23 21.3137 25.6863 24 29 24Z"
              stroke="currentColor"
              stroke-width="2"
            />
            <path
              d="M11 24V34"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
            <path
              d="M29 24V34"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
            <path
              d="M11 29H29"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
          </svg>

          <!-- Architecture icon -->
          <svg
            *ngIf="type.id === 'architecture'"
            class="type-icon"
            width="24"
            height="24"
            viewBox="0 0 40 40"
            fill="none"
          >
            <path
              d="M4 34H36"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
            <path
              d="M20 5L32 15V34H8V15L20 5Z"
              stroke="currentColor"
              stroke-width="2"
            />
            <path d="M16 34V24H24V34" stroke="currentColor" stroke-width="2" />
            <path
              d="M12 20H28"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
          </svg>

          <!-- Portfolio icon -->
          <svg
            *ngIf="type.id === 'portfolio'"
            class="type-icon"
            width="24"
            height="24"
            viewBox="0 0 40 40"
            fill="none"
          >
            <rect
              x="8"
              y="8"
              width="24"
              height="24"
              rx="2"
              stroke="currentColor"
              stroke-width="2"
            />
            <rect
              x="12"
              y="12"
              width="7"
              height="7"
              rx="1"
              stroke="currentColor"
              stroke-width="2"
            />
            <rect
              x="12"
              y="21"
              width="7"
              height="7"
              rx="1"
              stroke="currentColor"
              stroke-width="2"
            />
            <rect
              x="21"
              y="12"
              width="7"
              height="16"
              rx="1"
              stroke="currentColor"
              stroke-width="2"
            />
          </svg>
        </div>
        <h4 class="business-type-name">{{ type.name }}</h4>
        <p class="business-type-description">{{ type.description }}</p>

        <div
          class="selected-indicator"
          [style.background-color]="
            isSelected(type.id) && this.currentPlan === 'premium'
              ? accentColor
              : ''
          "
          *ngIf="isSelected(type.id)"
        >
          <svg class="check-icon" viewBox="0 0 24 24" fill="none">
            <path
              d="M5 12L10 17L20 7"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </div>
      </div>
    </div>

    <!-- Premium Plan Upgrade Prompt (if in standard plan) -->
    <!-- <div class="premium-upgrade-prompt" *ngIf="currentPlan === 'standard'">
      <div class="upgrade-badge">
        <svg class="premium-icon" viewBox="0 0 24 24" fill="none">
          <path
            d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"
            stroke="currentColor"
            stroke-width="1.5"
            fill="none"
          />
        </svg>
        Premium
      </div>
      <p>
        Unlock additional sections and advanced customization with our Premium
        plan.
      </p>
      <button class="upgrade-button">Upgrade Now</button>
    </div> -->
  </ng-container>

  <!-- Compact mode for fullscreen (dropdown) -->
  <ng-container *ngIf="compactMode">
    <div class="compact-selector">
      <div class="selected-type" (click)="toggleDropdown()">
        <div class="business-type-icon">
          <!-- Restaurant icon -->
          <svg
            *ngIf="selectedBusinessType === 'restaurant'"
            class="type-icon"
            width="24"
            height="24"
            viewBox="0 0 40 40"
            fill="none"
          >
            <path
              d="M12 10C12 7.79086 13.7909 6 16 6H24C26.2091 6 28 7.79086 28 10V24C28 26.2091 26.2091 28 24 28H16C13.7909 28 12 26.2091 12 24V10Z"
              stroke="currentColor"
              stroke-width="2"
            />
            <path
              d="M16 16H24"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
            <path
              d="M16 20H24"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
          </svg>

          <!-- Salon icon -->
          <svg
            *ngIf="selectedBusinessType === 'salon'"
            class="type-icon"
            width="24"
            height="24"
            viewBox="0 0 40 40"
            fill="none"
          >
            <path
              d="M20 6V16"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
            <path
              d="M16 12L24 12"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
          </svg>

          <!-- Architecture icon -->
          <svg
            *ngIf="selectedBusinessType === 'architecture'"
            class="type-icon"
            width="24"
            height="24"
            viewBox="0 0 40 40"
            fill="none"
          >
            <path
              d="M4 34H36"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
            <path
              d="M20 5L32 15V34H8V15L20 5Z"
              stroke="currentColor"
              stroke-width="2"
            />
            <path d="M16 34V24H24V34" stroke="currentColor" stroke-width="2" />
            <path
              d="M12 20H28"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
          </svg>

          <!-- Portfolio icon -->
          <svg
            *ngIf="selectedBusinessType === 'portfolio'"
            class="type-icon"
            width="24"
            height="24"
            viewBox="0 0 40 40"
            fill="none"
          >
            <rect
              x="8"
              y="8"
              width="24"
              height="24"
              rx="2"
              stroke="currentColor"
              stroke-width="2"
            />
            <rect
              x="12"
              y="12"
              width="7"
              height="7"
              rx="1"
              stroke="currentColor"
              stroke-width="2"
            />
          </svg>

          <!-- Default icon if no business type selected -->
          <svg
            *ngIf="!selectedBusinessType"
            class="type-icon"
            viewBox="0 0 24 24"
            fill="none"
          >
            <path
              d="M3 6L10 6"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
            />
            <path
              d="M3 10H16"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
            />
            <path
              d="M3 14H21"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
            />
            <path
              d="M3 18H12"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
            />
          </svg>
        </div>
        <span>{{ getSelectedBusinessTypeName() }}</span>
        <div class="dropdown-arrow">
          <svg class="arrow-icon" viewBox="0 0 24 24" fill="none">
            <path
              d="M7 10L12 15L17 10"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </div>
      </div>

      <!-- Dropdown for compact mode -->
      <div class="business-types-dropdown" *ngIf="dropdownOpen">
        <div
          *ngFor="let type of businessTypes"
          class="dropdown-item"
          [class.selected]="isSelected(type.id)"
          (click)="selectBusinessType(type.id)"
        >
          <div class="business-type-icon">
            <!-- Restaurant icon -->
            <svg
              *ngIf="type.id === 'restaurant'"
              class="type-icon-small"
              width="18"
              height="18"
              viewBox="0 0 40 40"
              fill="none"
            >
              <path
                d="M12 10C12 7.79086 13.7909 6 16 6H24C26.2091 6 28 7.79086 28 10V24C28 26.2091 26.2091 28 24 28H16C13.7909 28 12 26.2091 12 24V10Z"
                stroke="currentColor"
                stroke-width="2"
              />
              <path
                d="M16 16H24"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
              />
              <path
                d="M16 20H24"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
              />
            </svg>

            <!-- Salon icon -->
            <svg
              *ngIf="type.id === 'salon'"
              class="type-icon-small"
              width="18"
              height="18"
              viewBox="0 0 40 40"
              fill="none"
            >
              <path
                d="M20 6V16"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
              />
              <path
                d="M16 12L24 12"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
              />
            </svg>

            <!-- Architecture icon -->
            <svg
              *ngIf="type.id === 'architecture'"
              class="type-icon-small"
              width="18"
              height="18"
              viewBox="0 0 40 40"
              fill="none"
            >
              <path
                d="M4 34H36"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
              />
              <path
                d="M20 5L32 15V34H8V15L20 5Z"
                stroke="currentColor"
                stroke-width="2"
              />
              <path
                d="M16 34V24H24V34"
                stroke="currentColor"
                stroke-width="2"
              />
              <path
                d="M12 20H28"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
              />
            </svg>

            <!-- Portfolio icon -->
            <svg
              *ngIf="type.id === 'portfolio'"
              class="type-icon-small"
              width="18"
              height="18"
              viewBox="0 0 40 40"
              fill="none"
            >
              <rect
                x="8"
                y="8"
                width="24"
                height="24"
                rx="2"
                stroke="currentColor"
                stroke-width="2"
              />
              <rect
                x="12"
                y="12"
                width="7"
                height="7"
                rx="1"
                stroke="currentColor"
                stroke-width="2"
              />
            </svg>
          </div>
          <span>{{ type.name }}</span>
          <div class="selected-indicator" *ngIf="isSelected(type.id)">
            <svg class="check-icon" viewBox="0 0 24 24" fill="none">
              <path
                d="M5 12L10 17L20 7"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </div>
        </div>
      </div>
    </div>
  </ng-container>
</div>
